<div fxLayout="column" fxLayoutAlign="start stretch" class="table-wrapper">
  <!-- Search Field -->
  <mat-form-field appearance="outline" fxFlex.gt-sm="50%" fxFlex="100" style="margin-bottom: 20px;">
    <mat-label>Search here...!!</mat-label>
    <input matInput (keyup)="applyFilter($event)" placeholder="Enter name, state, duration" />
  </mat-form-field>

  <!-- Responsive Scroll Container -->
  <div class="table-container mat-elevation-z8">
    <mat-table [dataSource]="dataSource" matSort class="custom-table" [trackBy]="trackByFn">

      

      <!-- Date -->
      <ng-container matColumnDef="date">
        <mat-header-cell *matHeaderCellDef mat-sort-header>Date</mat-header-cell>
        <mat-cell *matCellDef="let element">{{ element.date | date }}</mat-cell>
      </ng-container>

      <!-- Name -->
      <ng-container matColumnDef="name">
        <mat-header-cell *matHeaderCellDef mat-sort-header>Name</mat-header-cell>
        <mat-cell *matCellDef="let element">{{ element.name }}</mat-cell>
      </ng-container>

      <!-- Calories -->
      <ng-container matColumnDef="calories">
        <mat-header-cell *matHeaderCellDef mat-sort-header>Calories</mat-header-cell>
        <mat-cell *matCellDef="let element">{{ element.calories | number }}</mat-cell>
      </ng-container>

      <!-- Duration -->
      <ng-container matColumnDef="duration">
        <mat-header-cell *matHeaderCellDef mat-sort-header>Duration</mat-header-cell>
        <mat-cell *matCellDef="let element">{{ element.duration | number }}</mat-cell>
      </ng-container>

      <!-- State -->
      <ng-container matColumnDef="state">
        <mat-header-cell *matHeaderCellDef mat-sort-header>State</mat-header-cell>
        <mat-cell *matCellDef="let element">{{ element.state }}</mat-cell>
      </ng-container>

      <!-- Table Rows -->
      <mat-header-row *matHeaderRowDef="displayedColumns"></mat-header-row>
      <mat-row *matRowDef="let row; columns: displayedColumns;"></mat-row>

    </mat-table>

    <!-- No results after filtering -->
    <div *ngIf="dataSource.data.length > 0 && dataSource.filteredData.length === 0" class="no-data-message">
      🔍 No matching data found.
    </div>

    <!-- No data at all -->
    <div *ngIf="dataSource.data.length === 0" class="no-data-message">
      📭 No data found.
    </div>

    <!-- Paginator -->
    <mat-paginator [pageSizeOptions]="[5, 10, 20]" showFirstLastButtons aria-label="Select page"></mat-paginator>
  </div>
</div>